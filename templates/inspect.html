{% extends "base.html" %}

{% block title %}Inspect Task - Todo App{% endblock %}

{% block content %}
<div class="container inspect-container">
    <h1>Task Details</h1>
    <div class="task-details {% if task_status == 'overdue' %}pulsate{% endif %}">
        <h2>{{ todo.task }}</h2>

        <p><strong>Status:</strong>
            {% if todo.done %}
            <span class="status-completed">‚úì Completed</span>
            {% else %}
            <span class="status-pending">‚è≥ Pending</span>
            {% endif %}
        </p>

        <p><strong>Date created:</strong> {{ todo.created_at|datetime_british }}</p>

        {% if todo.updated_at and todo.updated_at != todo.created_at %}
        <p><strong>Last edited:</strong> {{ todo.updated_at|datetime_british }}</p>
        {% endif %}

        {% if todo.date_from and todo.date_to %}
        <p><strong>Schedule: <br> </strong> From: {{ todo.date_from|datetime_british }} <br> Till: {{
            todo.date_to|datetime_british
            }}</p>

        {% if task_status == 'overdue' %}
        <p class="status-overdue"><strong>‚ö†Ô∏è This task is overdue!</strong></p>
        {% elif task_status == 'active' %}
        <p class="status-active"><strong>üìÖ This task is currently active!</strong></p>
        {% elif task_status == 'future' %}
        <p class="status-future"><strong>‚è∞ This task is scheduled for the future.</strong></p>
        {% endif %}
        {% endif %}

        <p><strong>Task ID:</strong> <code>{{ todo_id }}</code></p>
    </div>

    <div class="actions">
        <a href="{{ url_for('routes.edit', todo_id=todo_id) }}" class="button-link">Edit Task</a>
        <form action="{{ url_for('routes.toggle_todo', todo_id=todo_id) }}" method="POST" class="inline-form">
            <button type="submit" class="button-complete"">
                {% if todo.done %}Mark as Incomplete{% else %}Mark as Complete{% endif %}
            </button>
        </form>
        <a href=" {{ url_for('routes.index') }}" class="button-back">Back to list</a>
    </div>
</div>
{% endblock %}